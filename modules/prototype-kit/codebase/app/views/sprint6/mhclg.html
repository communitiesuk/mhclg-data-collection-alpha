{% 
  set reason_for_vacancy = {
      "arrears": "Relet - tenant evicted due to arrears",
      "asb": "Relet - tenant evicted due to ASB or other reason",
      "died": "Relet - tenant died (no succession) ",
      "moved-to-social": "Relet - tenant moved to other social housing provider",
      "abandoned": "Relet - tenant abandoned property",
      "moved-to-private": "Relet - tenant moved to private sector or other accommodation",
      "from-temoprary": "Relet - to tenant who occupied same property as temporary accommodation",
      "internal-transfer": "Relet – internal transfer (excluding renewals of a fixed-term tenancy)",
      "renewal": "Relet – renewal of fixed-term tenancy",
      "first-let-new-build": "First let of newbuild property",
      "first-let-conversion": "First let of conversion/rehabilitation/acquired property",
      "first-let-leased": "First let of leased property"
  }
%}

{%
  set unit_type = {
      "flat": "Flat / maisonette",
      "bedsit": "Bed-sit",
      "house": "House",
      "bungalow": "Bungalow",
      "maisonette": "Shared flat / maisonette",
      "shared-house": "Shared house",
      "shared-bungalow": "Shared bungalow",
      "other": "Other"
  }
%}

{%
  set building_type = {
    "purpose-built": "Purpose built",
    "converted": "Converted from previous residential or non-residential property"
  }
%}

{%
  set yes_no = {
    "yes": "Yes",
    "no": "No"
  }
%}

{%
  set yes_no_dk = {
    "yes": "Yes",
    "no": "No",
    "dont-know": "Don't know"
  }
%}

{%
  set relet = {
    "social-rent": "A social rent basis",
    "affordable": "An affordable rent basis",
    "rent-to-buy": "A rent to buy basis",
    "unknown": "Don't know"
  }
%}

{%
  set reasonable_preference = {
    'homeless': 'Homeless or about to lose their home (within 56 days)',
    'insanitary': 'Living in insanitary or overcrowded or unsatisfactory housing',
    'medical': 'A need to move on medical and welfare grounds (including a reasonable-preference-reasons)',
    'hardship': 'A need to move to avoid hardship to themselves or others',
    'unknown': "Don't know"
  }

%}

{%
  set time_range = {
          "0": "Just moved to Local Authority area",
          "<1": "Less than 1 year",
          "<2": "1 year but under 2 years",
          "<3": "2 years but under 3 years",
          "<4": "3 years but under 4 years",
          "<5": "4 years but under 5 years",
          ">5": "5 years or more",
          "?": "Don't Know"
  }
%}

{%
  set homeless = {
    "not-homeless": "Not homeless",
    "threatened-homeless": "Assessed as threatened with homelessness within 56 days by a LA and owed prevention duty",
    "homeless-owed-relief-duty": "Assessed as homeless by a LA and owed a relief duty",
    "unintentionally-homeless": "Assessed as unintentionally homeless and having priority need by a LA and owed a homeless main duty",
    "other-homeless": "Other homelessness i.e. not found statutorily homeless by a housing authority but considered to be homeless by the letting landlord"
  }
%}

{%
  set referral_by = {
          "internal-transfer": "Internal transfer",
          "applied-direct": "Tenant applied direct (no referral or nomination)",
          "la-nominated": "PRP lettings only - nominated by a local housing authority",
          "housing-mobility": "Relocated through recognised national/regional or sub-regional housing mobility scheme",
          "social-landlord": "Other social landlord",
          "social-services": "Social services",
          "police-etc": "Police/probation/prison",
          "youth-offending-team": "Youth offending team",
          "mental-health-team": "Community mental health team",
          "health-service": "Health service",
          "voluntary-agency": "Voluntary agency",
          "other": "Other"
  }  
%}

{%
  set completion_year = {
    "2021": "2020/2021",
    "2022": "2021/2022"
  }
%}

{%
  set form_type = {
        "social-general": "Social Rent General Needs",
        "social-supported": "Social Rent Supported Housing",
        "affordable-general": "Affordable Rent General Needs",
        "affordable-supported": "Affordable Rent Supported Housing",
        "rtb-general": "Rent To Buy General Needs",
        "rtb-supported": "Rent To Buy Supported Housing",
        "sales-log": "Sales Log"
  }
%}

{%
  set provider = {
    "private-registered": "Private Registered Provider",
    "local-authority": "Local Authority"
  }
%}

{%
  set ll_status = {
    "this": "This Landlord",
    "another": "Another RP (HA/LA)"
  }
%}

{%
  set tenancy_type = {
      "secure-including-flexible": "Secure including flexible",
      "assured": "Assured",
      "assured-shorthold": "Assured shorthold",
      "license-agreement": "License agreement",
      "other": "Other"
  }
%}

{%
  set gender = {
    "male": "Male",
    "female": "Female",
    "other": "Other",
    "refused": "Refused"
  }
%}

{%
  set economic_status = {
    "part-time": "Part-time (Less than 30 hrs)",      
    "full-time": "Full-time (30 hrs or more) Not seeking work Government training/New deal",
    "student": "Full-time student Jobseeker Child under 16 Retired",
    "unable-to-work": "Unable to work/long term sick or disability",
    "other": "Other adult"
  }
%}

{%
  set ethnicity = {
    "White: British": "White: British",
    "White: Irish": "White: Irish",
    "White: Gypsy/Irish Traveller": "White: Gypsy/Irish Traveller",
    "White: Other": "White: Other",
    "Mixed: White and Black Caribbean": "Mixed: White and Black Caribbean",
    "Mixed: Other": "Mixed: Other",
    "Mixed: White and Asian": "Mixed: White and Asian",
    "Asian or Asian British: Indian": "Asian or Asian British: Indian",
    "Asian or Asian British: Pakistani": "Asian or Asian British: Pakistani",
    "Asian or Asian British: Bangladeshi": "Asian or Asian British: Bangladeshi",
    "Asian or Asian British: Chinese": "Asian or Asian British: Chinese",
    "Asian or Asian British: Other": "Asian or Asian British: Other",
    "Black: Caribbean": "Black: Caribbean",
    "Black: African": "Black: African",
    "Black: Other": "Black: Other",
    "Other: Arab": "Other: Arab"
  }
%}

{%
  set nationality = {
    "UK national resident in UK": "UK national resident in UK",
    "UK national returning from residence overseas": "UK national returning from residence overseas",
    "Czech Republic": "Czech Republic",
    "Estonia": "Estonia",
    "Hungary": "Hungary",
    "Lithuania": "Lithuania",
    "Poland": "Poland",
    "Slovakia": "Slovakia",
    "Slovenia": "Slovenia",
    "Bulgaria": "Bulgaria",
    "Romania": "Romania",
    "Croatia": "Croatia",
    "Ireland": "Ireland",
    "Other EU Economic Area EEA Country": "Other EU Economic Area EEA Country",
    "Any other country": "Any other country"
  }
%}

{% macro option(label, answers, data, group, onchange) %}
  <label class="govuk-label govuk-label--m" for="{{ group }}">{{ label }}</label>
  <div class="govuk-form-group">
    <select class="govuk-select" id="{{ group }}" name="{{ group }}" onchange="{{ onchange }}">
      {% for value, name in answers %}
      <option value="{{ value }}" {{ 'selected' if data[group] == value }}>{{ name }}</option>
      {% endfor %}
    </select>
  </div>
{% endmacro %}

{% macro radio(label, answers, data, group, onchange, subdued) %}
  <label class="govuk-label {{ '' if subdued == true else 'govuk-label--m' }}" for="{{ group }}">{{ label }}</label>
  <div class="govuk-radios govuk-radios--inline">
      {% for value, name in answers %}
    <div class="govuk-radios__item">
      <input class="govuk-radios__input" id="{{ group }}-{{ value }}" name="{{ group }}" type="radio"
        onchange="{{ onchange }}" value="{{ value }}" {{ 'checked' if data[group] == value }} />
      <label class="govuk-label govuk-radios__label" for="{{ group }}-{{ value }}">
        {{ name }}
      </label>
    </div>
      {% endfor %}
  </div>
{% endmacro %}

{% macro checkboxes(label, hint, answers, data, group) %}
      <div class="govuk-form-group" id="{{ group }}-section">
        <label class="govuk-label govuk-label--s">{{ label }}</label>
        <div id="{{ group }}-hint" class="govuk-hint">{{ hint }}</div>
        <div class="govuk-checkboxes">
          {% for value, name in answers %}
          <div class="govuk-checkboxes__item">
            <input class="govuk-checkboxes__input" id="{{ group }}-{{value}}"
              name="{{ group }}" type="checkbox" 
              {{ 'checked' if data[group] and value in data[group] else '' }} 
              value="{{ value }}">
            <label class="govuk-label govuk-checkboxes__label" for="{{ group }}-{{value}}">{{ name }}</label>
          </div>
          {% endfor %}
        </div>
      </div>
{% endmacro %}